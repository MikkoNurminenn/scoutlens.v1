/* path: app/ui/sidebar.css */

/* ===== Dark Grey Sidebar (refined) ===== */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");
@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css");

/* Väriteema + leveydet */
:root {
  color-scheme: dark;
  --bg:        #0f1115;
  --bg-elev:   #14171d;
  --bg-soft:   #1a1e25;
  --ink:       #e7eaf0;
  --ink-dim:   #c7cbd4;
  --muted:     #a0a7b4;
  --border:    #242a33;
  --ring:      #6d91ff;
  --hi:        #8ca2ff;
  --accent:    #3b82f6;
  --accent-2:  #6366f1;
  --danger:    #ef4444;
  --shadow:    0 8px 24px rgba(0,0,0,.4);
  --radius-lg: 20px;
  --radius-md: 16px;
  --radius-sm: 12px;

  --sb-width-lg: 360px;
  --sb-width-md: 300px;
  --sb-width-sm: 260px;
}

/* ===== Sidebar ===== */
:where(section[data-testid="stSidebar"]) {
  background: radial-gradient(1200px 600px at 15% -10%, rgba(255,255,255,.03), transparent 60%), var(--bg);
  color: var(--ink);
  font-family: "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  min-width: var(--sb-width-lg);
  max-width: var(--sb-width-lg);
  border-right: 1px solid var(--border);
}

:where(section[data-testid="stSidebar"][aria-expanded="false"]) {
  width: 0 !important;
  min-width: 0 !important;
  max-width: 0 !important;
  overflow: hidden;
}

:where([data-testid="stSidebarResizer"]) { display: none; }

:where(section[data-testid="stSidebar"] .block-container) {
  padding: 0 1.1rem 1.4rem;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  min-height: calc(100vh - 3rem);
}

/* ===== Header ===== */
.sb-header-card {
  display: flex;
  flex-direction: column;
  gap: .8rem;
  padding: 1rem 1rem 1.1rem;
  background: var(--bg-elev);
  border: 1px solid var(--border);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow);
}

.sb-logo{ display:flex; justify-content:center; }
.sb-logo img{ width:100%; border-radius: 16px; box-shadow: var(--shadow); }

.sb-title-block{ display:flex; flex-direction:column; gap:.2rem; text-align:center; }
.sb-title{ font-size: 1.35rem; font-weight: 700; color: var(--ink); }
.sb-tagline{ font-size: .95rem; color: var(--muted); font-weight: 500; }

/* ===== Navigation ===== */
.sb-nav-title{
  display:flex; align-items:center; gap:.6rem; text-transform:uppercase; letter-spacing:.22em;
  margin-top:.2rem; margin-bottom:.2rem;
}
.sb-nav-title .sb-nav-text{ font-size:.78rem; font-weight:600; color: var(--hi); }
.sb-nav-underline{ flex:1; height:1px; background: var(--border); border-radius:999px; }

:where(section[data-testid="stSidebar"] div[data-testid="stRadio"]) {
  display:flex; flex-direction:column; gap:.7rem;
  padding:1rem .9rem;
  border-radius: var(--radius-lg);
  border:1px solid var(--border);
  background: var(--bg-elev);
  box-shadow: var(--shadow);
}

:where(section[data-testid="stSidebar"] [role="radiogroup"] > label){
  position:relative; display:flex; align-items:center; gap:1rem;
  width:100%; box-sizing:border-box;
  padding:.95rem 1.25rem .95rem 3.75rem;
  min-height:3.1rem;
  border-radius: var(--radius-md);
  border:1px solid var(--border);
  background: var(--bg-elev);
  color:var(--ink-dim);
  font-size:.98rem;
  font-weight:600;
  line-height:1.3;
  transition: transform .18s, background .18s, border-color .18s, color .18s, box-shadow .18s;
  cursor:pointer;
}

:where(section[data-testid="stSidebar"] [role="radiogroup"] > label:hover){
  transform:translateX(4px);
  background:var(--bg-soft);
  border-color: color-mix(in oklab, var(--border), white 6%);
}

:where(section[data-testid="stSidebar"] [role="radiogroup"] > label[data-active="true"]),
:where(section[data-testid="stSidebar"] [role="radiogroup"] > label[aria-current="page"]){
  background:linear-gradient(0deg, rgba(99,102,241,.06), rgba(99,102,241,.06)), var(--bg-soft);
  border-color:color-mix(in oklab, var(--accent-2), black 65%);
  box-shadow: var(--shadow), inset 0 0 0 1px rgba(255,255,255,.02);
  color:var(--ink);
}

:where(section[data-testid="stSidebar"] [role="radiogroup"] > label[data-active="true"] .sb-nav-icon),
:where(section[data-testid="stSidebar"] [role="radiogroup"] > label[aria-current="page"] .sb-nav-icon){
  background:color-mix(in oklab, var(--accent-2), transparent 42%);
  color:var(--ink);
  box-shadow:inset 0 0 0 1px rgba(255,255,255,.14);
}

:where(section[data-testid="stSidebar"] [role="radiogroup"] > label:focus-within){
  outline:none;
  box-shadow:0 0 0 2px var(--ring), 0 0 0 5px rgba(109,145,255,.18);
}

.sb-nav-icon{
  position:absolute;
  left:1.15rem;
  top:50%;
  transform:translateY(-50%);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  width:2.6rem;
  height:2.6rem;
  border-radius:.9rem;
  background:color-mix(in oklab, var(--accent-2), transparent 68%);
  color:color-mix(in oklab, var(--ink), black 10%);
  font-size:1.1rem;
  font-weight:900;
  font-family:"Font Awesome 6 Free","Font Awesome 6 Pro","Inter",system-ui,sans-serif;
  pointer-events:none;
  transition:background .18s, color .18s, box-shadow .18s;
}

.sb-nav-icon i{ display:inline-block; font-style:normal; }

:where(section[data-testid="stSidebar"] [role="radiogroup"] > label:hover .sb-nav-icon){
  background:color-mix(in oklab, var(--accent-2), transparent 55%);
}

.sb-nav-label{
  display:flex;
  flex:1;
  align-items:center;
  gap:.25rem;
  color:inherit;
}

/* ===== Profile ===== */
.sb-profile-card{
  display:flex; align-items:center; gap:.75rem; margin-top:auto; padding:.8rem .9rem;
  border-radius:var(--radius-md); border:1px solid var(--border);
  background:var(--bg-elev); box-shadow: var(--shadow);
}
.sb-profile-avatar{ width:44px; height:44px; border-radius:50%; background:linear-gradient(180deg,#303644,#232834);
  border:1px solid var(--border); display:flex; align-items:center; justify-content:center;
  font-weight:600; font-size:.95rem; color:var(--ink); overflow:hidden; }
.sb-profile-avatar::after{ content:attr(data-initials); }
.sb-profile-avatar.has-image::after{ content:""; }
.sb-profile-avatar img{ width:100%; height:100%; object-fit:cover; }
.sb-profile-meta{ display:flex; flex-direction:column; gap:.15rem; }
.sb-profile-name{ font-weight:600; color:var(--ink); }
.sb-profile-email{ font-size:.82rem; color:var(--ink-dim); }

/* ===== Sign out button ===== */
:where(section[data-testid="stSidebar"] div[data-testid="stButton"]){ width:100%; margin-top:.7rem; }
:where(section[data-testid="stSidebar"] div[data-testid="stButton"] button){
  width:100%; border-radius:999px;
  border:1px solid color-mix(in oklab,var(--danger),black 40%);
  background:color-mix(in oklab,var(--danger),black 88%);
  color:color-mix(in oklab,var(--danger),white 25%);
  font-weight:600; letter-spacing:.02em;
  transition: background .16s, color .16s, border-color .16s, transform .12s;
}
:where(section[data-testid="stSidebar"] div[data-testid="stButton"] button:hover){
  background:color-mix(in oklab,var(--danger),black 80%);
  color:#ffe4e6; transform:translateY(-1px);
}
:where(section[data-testid="stSidebar"] div[data-testid="stButton"] button:active){
  transform:translateY(0);
}
/* ✅ lisätty focus-visible saavutettavuutta varten */
:where(section[data-testid="stSidebar"] div[data-testid="stButton"] button:focus-visible){
  outline:none;
  box-shadow:0 0 0 2px var(--ring), 0 0 0 5px rgba(239,68,68,.3);
}

/* ===== Footer ===== */
.sb-footer-line{
  margin-top:1rem; padding-top:.9rem; border-top:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between;
  font-size:.74rem; letter-spacing:.12em; text-transform:uppercase;
  color:var(--muted);
}
.sb-footer-title{ font-weight:600; }
.sb-version{ font-weight:500; }

/* ===== Responsiivisuus ===== */
@media (max-width:900px){
  :where(section[data-testid="stSidebar"]){
    min-width:var(--sb-width-md);
    max-width:var(--sb-width-md);
  }
}
@media (max-width:520px){
  :where(section[data-testid="stSidebar"]){
    min-width:var(--sb-width-sm);
    max-width:var(--sb-width-sm);
  }
}
@media (prefers-reduced-motion:reduce){
  *{ transition:none !important; animation:none !important; }
}
