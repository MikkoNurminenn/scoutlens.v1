/* ===== Sidebar navigation radio reset (Streamlit 1.37 compatible) ===== */

/*
  Streamlit 1.37 refactored the radio markup so the visual bullet now lives inside
  extra wrapper <div> elements. The previous adjacency selectors hid the entire
  option content which in turn made the navigation appear empty and unclickable.
  These rules keep the native radio input in the DOM for accessibility, but make
  it invisible and allow the label container to handle clicks instead.
*/

section[data-testid="stSidebar"] [role="radiogroup"] > label {
  position: relative;
  width: 100%;
  cursor: pointer;
}

section[data-testid="stSidebar"] [role="radiogroup"] > label input[type="radio"] {
  position: absolute !important;
  inset: 0;
  margin: 0;
  width: 100%;
  height: 100%;
  opacity: 0 !important;
  pointer-events: auto;
}

/* Hide Streamlit/BaseWeb specific visual wrappers when present */
section[data-testid="stSidebar"] [role="radiogroup"] > label input[type="radio"] + *,
section[data-testid="stSidebar"] [role="radiogroup"] > label [data-baseweb="radio"],
section[data-testid="stSidebar"] [role="radiogroup"] > label [data-baseweb="styledradio"],
section[data-testid="stSidebar"] [role="radiogroup"] > label svg[aria-hidden="true"],
section[data-testid="stSidebar"] [role="radiogroup"] > label [aria-hidden="true"][role="presentation"] {
  display: none !important;
}

/* Ensure the visible content block always aligns flush with the sidebar edge */
section[data-testid="stSidebar"] [role="radiogroup"] > label > div:last-child {
  margin-left: 0 !important;
}

/* === v3: Restore label text and hide only the dot container === */

/* 0) Undo v2 rule that accidentally hid the text container */
section[data-testid="stSidebar"] label input[type="radio"] + div {
  display: initial !important;      /* bring text back */
}

/* 1) Hide the dot container (the div that wraps the radio input) */
section[data-testid="stSidebar"] .stRadio label:has(> div > input[type="radio"]) > div:first-child,
section[data-testid="stSidebar"] [data-baseweb="radio"] label:has(> div > input[type="radio"]) > div:first-child {
  display: none !important;
}

/* 2) Remove the leftover left spacing so text aligns nicely */
section[data-testid="stSidebar"] .stRadio label:has(> div > input[type="radio"]) > div:nth-child(2),
section[data-testid="stSidebar"] [data-baseweb="radio"] label:has(> div > input[type="radio"]) > div:nth-child(2) {
  margin-left: 0 !important;
}

/* 3) Make the whole row clickable */
section[data-testid="stSidebar"] .stRadio label,
section[data-testid="stSidebar"] [data-baseweb="radio"] label {
  width: 100%;
  cursor: pointer;
}

/* 4) Fallback for browsers without :has() â€” shrink the dot box to zero */
@supports not selector(:has(*)) {
  section[data-testid="stSidebar"] .stRadio label > div:first-child,
  section[data-testid="stSidebar"] [data-baseweb="radio"] label > div:first-child {
    width: 0 !important;
    min-width: 0 !important;
    padding: 0 !important;
    margin: 0 !important;
    overflow: hidden !important;
  }
}
